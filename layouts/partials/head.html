<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="UTF-8">

<title>{{.Title}}</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js@1.2.3/pace-theme-default.min.css" integrity="sha256-anPTRkzR25h4UMAUWxh0FNzKvgVv2MnEyxeDpgOtfiA=" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.3/pace.min.js" integrity="sha256-kubxe7yxLaribPaAekUOUDUCap6FSiCeKCQQqYQDs4s=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"
    integrity="sha256-yYGYRNGM8Fn1Kn2lP3htQYNIzGYt1+JD8AnsVZusheI=" crossorigin="anonymous"></script>
<script>
    var pjax = new Pjax({
        debug: true,
        cacheBust: false,
        elements: "a.js-Pjax",
        selectors: [
            "title",
            "#pjax-main",
        ]
    })
    {{ if .Site.Params.advancedNav }}
    window.$history = localStorage.history ? JSON.parse(localStorage.history) : {};
    window.$history_tree = {
        exist: function(path) {
            let cur = window.$history_tree;
            for(let item of path) {
                if (!cur[item]) return false;
                cur = cur[item];
            }
            return true;
        },
        add_path: function(path) {
            let cur = window.$history_tree;
            for(let item of path) {
                if (!cur[item]) cur[item] = {}
                cur = cur[item];
            }
        }
    }
    for(let key in window.$history) {
        window.$history_tree.add_path(window.$history[key].path)
    }
    {{ end }}
</script>